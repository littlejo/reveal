= ğŸš€ En route vers les 256 clusters
:imagesdir: assets/default/images
image::mi-plane.png[]
[NOTE.speaker]
====
Maintenant qu'on a dÃ©fini le terrain d'action et ses difficultÃ©s. Concentrons nous sur le problÃ¨me principal.
====

== CrÃ©ation des connexions ğŸ§¨
image::code-cilium-cli.png[width=80%]

[NOTE.speaker]
====
Voici le code principal de la crÃ©ation de connexion.
====

== !

image::deploy-connection-get-1.svg[width=50%]

[NOTE.speaker]
====
* ğŸ“¡ Extraction des donnÃ©es de Cluster Mesh sur le premier cluster
Ã§a dure moins d'une seconde
====

== !

image::deploy-connection-get-2.svg[width=50%]
[NOTE.speaker]
====
* Idem pour l'autre cluster
====

== !

image::deploy-connection-upgrade-1.svg[width=40%]
[NOTE.speaker]
====
* ğŸ”§ Mise Ã  jour de la config sur A avec les donnÃ©es de l'autre cluster
Ã§a dure environ 7 secondes
====

== !

image::deploy-connection-upgrade-2.svg[width=40%]
[NOTE.speaker]
====
* Idem pour l'autre cluster
ğŸ¤” "On peut parallÃ©liser les helm upgrade, non ?"

ğŸ’¥ RÃ©sultat : CPU en feu.
====

== GÃ©nÃ©ralisation pour n clusters

* ğŸ“¡ Extraction des donnÃ©es (par cluster)
* ğŸ”§ Mise Ã  jour de la config (par cluster)

[NOTE.speaker]
====
ğŸ¯ Objectif : Connecter N clusters efficacement

En thÃ©orie : pour 511 clusters on metterait environ une heure
====

== La Pull Request

image::pr.png[]

== ğŸ§ª **32 clusters**

image::32-clusters.apng[width=50%]

== !

[cols="1,1", options="header"]
|===
| Ã‰tape | DurÃ©e

| ğŸ”§ *CrÃ©ation connexions*
| 5 minutes

| â³ *DÃ©ploiement total*
| 17 minutes

|===

[NOTE.speaker]
====
ğŸ¯ Mise en Å“uvre de lâ€™algorithme sÃ©quentiel sur une flotte de 32 clusters.
====

== ParallÃ©lisation

image::pr-2.png[]

[NOTE.speaker]
====
Avec 32 tÃ¢ches en parallÃ¨le on pourrait crÃ©er les connexions de 511 clusters en moins de 3 minutes
====

== ğŸ§ª **64 clusters**

image::64-clusters.apng[width=50%]

== !

[cols="1,1,1", options="header"]
|===
| Clusters | DÃ©ploiement | Connexions

| pass:[<span style="color:gray;">32</span>]
| pass:[<span style="color:gray;">17 minutes</span>]
| pass:[<span style="color:gray;">5 minutes</span>]

| pass:[<strong><span style="color:#3366cc;">64</span></strong>]
| pass:[<strong><span style="color:#3366cc;">15 minutes</span></strong>]
| pass:[<strong><span style="color:#3366cc;">2 minutes</span></strong>]

|===
